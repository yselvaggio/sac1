{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":26,"index":186}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadUser();\n    }, []);\n    const loadUser = async () => {\n      try {\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedUser) {\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading user:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, nome) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/users`, {\n          email,\n          nome,\n          tipo: 'utente'\n        });\n        const userData = response.data;\n        setUser(userData);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n      } catch (error) {\n        console.error('Error logging in:', error);\n        throw error;\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('user');\n        setUser(null);\n      } catch (error) {\n        console.error('Error logging out:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        isLoading,\n        login,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":87,"map":[[13,2,25,0,"exports"],[13,9,25,0],[13,10,25,0,"AuthProvider"],[13,22,25,0],[13,25,25,0,"AuthProvider"],[13,37,25,0],[14,2,78,0,"exports"],[14,9,78,0],[14,10,78,0,"useAuth"],[14,17,78,0],[14,20,78,0,"useAuth"],[14,27,78,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,2,0],[16,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[16,42,2,0],[16,45,2,0,"require"],[16,52,2,0],[16,53,2,0,"_dependencyMap"],[16,67,2,0],[17,2,2,0],[17,6,2,0,"AsyncStorage"],[17,18,2,0],[17,21,2,0,"_interopDefault"],[17,36,2,0],[17,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[17,73,2,0],[18,2,3,0],[18,6,3,0,"_axios"],[18,12,3,0],[18,15,3,0,"require"],[18,22,3,0],[18,23,3,0,"_dependencyMap"],[18,37,3,0],[19,2,3,0],[19,6,3,0,"axios"],[19,11,3,0],[19,14,3,0,"_interopDefault"],[19,29,3,0],[19,30,3,0,"_axios"],[19,36,3,0],[20,2,3,26],[20,6,3,26,"_reactJsxDevRuntime"],[20,25,3,26],[20,28,3,26,"require"],[20,35,3,26],[20,36,3,26,"_dependencyMap"],[20,50,3,26],[21,2,5,0],[21,8,5,6,"BACKEND_URL"],[21,19,5,17],[21,22,5,20,"process"],[21,29,5,27],[21,30,5,28,"env"],[21,33,5,31],[21,34,5,32,"EXPO_PUBLIC_BACKEND_URL"],[21,57,5,55],[22,2,23,0],[22,8,23,6,"AuthContext"],[22,19,23,17],[22,35,23,20],[22,39,23,20,"createContext"],[22,45,23,33],[22,46,23,33,"createContext"],[22,59,23,33],[22,61,23,63,"undefined"],[22,70,23,72],[22,71,23,73],[23,2,25,7],[23,11,25,16,"AuthProvider"],[23,23,25,28,"AuthProvider"],[23,24,25,29],[24,4,25,31,"children"],[25,2,25,65],[25,3,25,66],[25,5,25,68],[26,4,26,2],[26,10,26,8],[26,11,26,9,"user"],[26,15,26,13],[26,17,26,15,"setUser"],[26,24,26,22],[26,25,26,23],[26,28,26,26],[26,32,26,26,"useState"],[26,38,26,34],[26,39,26,34,"useState"],[26,47,26,34],[26,49,26,48],[26,53,26,52],[26,54,26,53],[27,4,27,2],[27,10,27,8],[27,11,27,9,"isLoading"],[27,20,27,18],[27,22,27,20,"setIsLoading"],[27,34,27,32],[27,35,27,33],[27,38,27,36],[27,42,27,36,"useState"],[27,48,27,44],[27,49,27,44,"useState"],[27,57,27,44],[27,59,27,45],[27,63,27,49],[27,64,27,50],[28,4,29,2],[28,8,29,2,"useEffect"],[28,14,29,11],[28,15,29,11,"useEffect"],[28,24,29,11],[28,26,29,12],[28,32,29,18],[29,6,30,4,"loadUser"],[29,14,30,12],[29,15,30,13],[29,16,30,14],[30,4,31,2],[30,5,31,3],[30,7,31,5],[30,9,31,7],[30,10,31,8],[31,4,33,2],[31,10,33,8,"loadUser"],[31,18,33,16],[31,21,33,19],[31,27,33,19,"loadUser"],[31,28,33,19],[31,33,33,31],[32,6,34,4],[32,10,34,8],[33,8,35,6],[33,14,35,12,"storedUser"],[33,24,35,22],[33,27,35,25],[33,33,35,31,"AsyncStorage"],[33,45,35,43],[33,46,35,43,"default"],[33,53,35,43],[33,54,35,44,"getItem"],[33,61,35,51],[33,62,35,52],[33,68,35,58],[33,69,35,59],[34,8,36,6],[34,12,36,10,"storedUser"],[34,22,36,20],[34,24,36,22],[35,10,37,8,"setUser"],[35,17,37,15],[35,18,37,16,"JSON"],[35,22,37,20],[35,23,37,21,"parse"],[35,28,37,26],[35,29,37,27,"storedUser"],[35,39,37,37],[35,40,37,38],[35,41,37,39],[36,8,38,6],[37,6,39,4],[37,7,39,5],[37,8,39,6],[37,15,39,13,"error"],[37,20,39,18],[37,22,39,20],[38,8,40,6,"console"],[38,15,40,13],[38,16,40,14,"error"],[38,21,40,19],[38,22,40,20],[38,43,40,41],[38,45,40,43,"error"],[38,50,40,48],[38,51,40,49],[39,6,41,4],[39,7,41,5],[39,16,41,14],[40,8,42,6,"setIsLoading"],[40,20,42,18],[40,21,42,19],[40,26,42,24],[40,27,42,25],[41,6,43,4],[42,4,44,2],[42,5,44,3],[43,4,46,2],[43,10,46,8,"login"],[43,15,46,13],[43,18,46,16],[43,24,46,16,"login"],[43,25,46,23,"email"],[43,30,46,36],[43,32,46,38,"nome"],[43,36,46,50],[43,41,46,55],[44,6,47,4],[44,10,47,8],[45,8,48,6],[45,14,48,12,"response"],[45,22,48,20],[45,25,48,23],[45,31,48,29,"axios"],[45,36,48,34],[45,37,48,34,"default"],[45,44,48,34],[45,45,48,35,"post"],[45,49,48,39],[45,50,48,40],[45,53,48,43,"BACKEND_URL"],[45,64,48,54],[45,76,48,66],[45,78,48,68],[46,10,49,8,"email"],[46,15,49,13],[47,10,50,8,"nome"],[47,14,50,12],[48,10,51,8,"tipo"],[48,14,51,12],[48,16,51,14],[49,8,52,6],[49,9,52,7],[49,10,52,8],[50,8,53,6],[50,14,53,12,"userData"],[50,22,53,20],[50,25,53,23,"response"],[50,33,53,31],[50,34,53,32,"data"],[50,38,53,36],[51,8,54,6,"setUser"],[51,15,54,13],[51,16,54,14,"userData"],[51,24,54,22],[51,25,54,23],[52,8,55,6],[52,14,55,12,"AsyncStorage"],[52,26,55,24],[52,27,55,24,"default"],[52,34,55,24],[52,35,55,25,"setItem"],[52,42,55,32],[52,43,55,33],[52,49,55,39],[52,51,55,41,"JSON"],[52,55,55,45],[52,56,55,46,"stringify"],[52,65,55,55],[52,66,55,56,"userData"],[52,74,55,64],[52,75,55,65],[52,76,55,66],[53,6,56,4],[53,7,56,5],[53,8,56,6],[53,15,56,13,"error"],[53,20,56,18],[53,22,56,20],[54,8,57,6,"console"],[54,15,57,13],[54,16,57,14,"error"],[54,21,57,19],[54,22,57,20],[54,41,57,39],[54,43,57,41,"error"],[54,48,57,46],[54,49,57,47],[55,8,58,6],[55,14,58,12,"error"],[55,19,58,17],[56,6,59,4],[57,4,60,2],[57,5,60,3],[58,4,62,2],[58,10,62,8,"logout"],[58,16,62,14],[58,19,62,17],[58,25,62,17,"logout"],[58,26,62,17],[58,31,62,29],[59,6,63,4],[59,10,63,8],[60,8,64,6],[60,14,64,12,"AsyncStorage"],[60,26,64,24],[60,27,64,24,"default"],[60,34,64,24],[60,35,64,25,"removeItem"],[60,45,64,35],[60,46,64,36],[60,52,64,42],[60,53,64,43],[61,8,65,6,"setUser"],[61,15,65,13],[61,16,65,14],[61,20,65,18],[61,21,65,19],[62,6,66,4],[62,7,66,5],[62,8,66,6],[62,15,66,13,"error"],[62,20,66,18],[62,22,66,20],[63,8,67,6,"console"],[63,15,67,13],[63,16,67,14,"error"],[63,21,67,19],[63,22,67,20],[63,42,67,40],[63,44,67,42,"error"],[63,49,67,47],[63,50,67,48],[64,6,68,4],[65,4,69,2],[65,5,69,3],[66,4,71,2],[66,24,72,4],[66,28,72,4,"_reactJsxDevRuntime"],[66,47,72,4],[66,48,72,4,"jsxDEV"],[66,54,72,4],[66,56,72,5,"AuthContext"],[66,67,72,16],[66,68,72,17,"Provider"],[66,76,72,25],[67,6,72,26,"value"],[67,11,72,31],[67,13,72,33],[68,8,72,35,"user"],[68,12,72,39],[69,8,72,41,"isLoading"],[69,17,72,50],[70,8,72,52,"login"],[70,13,72,57],[71,8,72,59,"logout"],[72,6,72,66],[72,7,72,68],[73,6,72,68,"children"],[73,14,72,68],[73,16,73,7,"children"],[74,4,73,15],[75,6,73,15,"fileName"],[75,14,73,15],[75,16,73,15,"_jsxFileName"],[75,28,73,15],[76,6,73,15,"lineNumber"],[76,16,73,15],[77,6,73,15,"columnNumber"],[77,18,73,15],[78,4,73,15],[78,11,74,26],[78,12,74,27],[79,2,76,0],[80,2,78,7],[80,11,78,16,"useAuth"],[80,18,78,23,"useAuth"],[80,19,78,23],[80,21,78,26],[81,4,79,2],[81,10,79,8,"context"],[81,17,79,15],[81,20,79,18],[81,24,79,18,"useContext"],[81,30,79,28],[81,31,79,28,"useContext"],[81,41,79,28],[81,43,79,29,"AuthContext"],[81,54,79,40],[81,55,79,41],[82,4,80,2],[82,8,80,6,"context"],[82,15,80,13],[82,20,80,18,"undefined"],[82,29,80,27],[82,31,80,29],[83,6,81,4],[83,12,81,10],[83,16,81,14,"Error"],[83,21,81,19],[83,22,81,20],[83,67,81,65],[83,68,81,66],[84,4,82,2],[85,4,83,2],[85,11,83,9,"context"],[85,18,83,16],[86,2,84,0],[87,0,84,1],[87,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadUser","login","logout","useAuth"],"mappings":"AAA;OCwB;YCI;GDE;mBEE;GFW;gBGE;GHc;iBIE;GJO;CDO;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}