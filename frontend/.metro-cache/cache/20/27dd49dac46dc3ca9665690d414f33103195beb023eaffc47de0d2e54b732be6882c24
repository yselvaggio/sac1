{"dependencies":[{"name":"../../tokenizer","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":1,"column":14,"index":14},"end":{"line":1,"column":40,"index":40}},{"start":{"line":2,"column":11,"index":61},"end":{"line":2,"column":37,"index":87}}],"key":"aNRU9n3c7yINqZkqLGUbbiGwGn8=","exportNames":["*"],"imports":2}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var isDigit = require(_dependencyMap[0], \"../../tokenizer\").isDigit;\n  var TYPE = require(_dependencyMap[0], \"../../tokenizer\").TYPE;\n  var NUMBER = TYPE.Number;\n  var DELIM = TYPE.Delim;\n  var SOLIDUS = 0x002F; // U+002F SOLIDUS (/)\n  var FULLSTOP = 0x002E; // U+002E FULL STOP (.)\n\n  // Terms of <ratio> should be a positive numbers (not zero or negative)\n  // (see https://drafts.csswg.org/mediaqueries-3/#values)\n  // However, -o-min-device-pixel-ratio takes fractional values as a ratio's term\n  // and this is using by various sites. Therefore we relax checking on parse\n  // to test a term is unsigned number without an exponent part.\n  // Additional checking may be applied on lexer validation.\n  function consumeNumber() {\n    this.scanner.skipWS();\n    var value = this.consume(NUMBER);\n    for (var i = 0; i < value.length; i++) {\n      var code = value.charCodeAt(i);\n      if (!isDigit(code) && code !== FULLSTOP) {\n        this.error('Unsigned number is expected', this.scanner.tokenStart - value.length + i);\n      }\n    }\n    if (Number(value) === 0) {\n      this.error('Zero number is not allowed', this.scanner.tokenStart - value.length);\n    }\n    return value;\n  }\n\n  // <positive-integer> S* '/' S* <positive-integer>\n  module.exports = {\n    name: 'Ratio',\n    structure: {\n      left: String,\n      right: String\n    },\n    parse: function () {\n      var start = this.scanner.tokenStart;\n      var left = consumeNumber.call(this);\n      var right;\n      this.scanner.skipWS();\n      if (!this.scanner.isDelim(SOLIDUS)) {\n        this.error('Solidus is expected');\n      }\n      this.eat(DELIM);\n      right = consumeNumber.call(this);\n      return {\n        type: 'Ratio',\n        loc: this.getLocation(start, this.scanner.tokenStart),\n        left: left,\n        right: right\n      };\n    },\n    generate: function (node) {\n      this.chunk(node.left);\n      this.chunk('/');\n      this.chunk(node.right);\n    }\n  };\n});","lineCount":60,"map":[[2,2,1,0],[2,6,1,4,"isDigit"],[2,13,1,11],[2,16,1,14,"require"],[2,23,1,21],[2,24,1,21,"_dependencyMap"],[2,38,1,21],[2,60,1,39],[2,61,1,40],[2,62,1,41,"isDigit"],[2,69,1,48],[3,2,2,0],[3,6,2,4,"TYPE"],[3,10,2,8],[3,13,2,11,"require"],[3,20,2,18],[3,21,2,18,"_dependencyMap"],[3,35,2,18],[3,57,2,36],[3,58,2,37],[3,59,2,38,"TYPE"],[3,63,2,42],[4,2,4,0],[4,6,4,4,"NUMBER"],[4,12,4,10],[4,15,4,13,"TYPE"],[4,19,4,17],[4,20,4,18,"Number"],[4,26,4,24],[5,2,5,0],[5,6,5,4,"DELIM"],[5,11,5,9],[5,14,5,12,"TYPE"],[5,18,5,16],[5,19,5,17,"Delim"],[5,24,5,22],[6,2,6,0],[6,6,6,4,"SOLIDUS"],[6,13,6,11],[6,16,6,14],[6,22,6,20],[6,23,6,21],[6,24,6,23],[7,2,7,0],[7,6,7,4,"FULLSTOP"],[7,14,7,12],[7,17,7,15],[7,23,7,21],[7,24,7,22],[7,25,7,23],[9,2,9,0],[10,2,10,0],[11,2,11,0],[12,2,12,0],[13,2,13,0],[14,2,14,0],[15,2,15,0],[15,11,15,9,"consumeNumber"],[15,24,15,22,"consumeNumber"],[15,25,15,22],[15,27,15,25],[16,4,16,4],[16,8,16,8],[16,9,16,9,"scanner"],[16,16,16,16],[16,17,16,17,"skipWS"],[16,23,16,23],[16,24,16,24],[16,25,16,25],[17,4,18,4],[17,8,18,8,"value"],[17,13,18,13],[17,16,18,16],[17,20,18,20],[17,21,18,21,"consume"],[17,28,18,28],[17,29,18,29,"NUMBER"],[17,35,18,35],[17,36,18,36],[18,4,20,4],[18,9,20,9],[18,13,20,13,"i"],[18,14,20,14],[18,17,20,17],[18,18,20,18],[18,20,20,20,"i"],[18,21,20,21],[18,24,20,24,"value"],[18,29,20,29],[18,30,20,30,"length"],[18,36,20,36],[18,38,20,38,"i"],[18,39,20,39],[18,41,20,41],[18,43,20,43],[19,6,21,8],[19,10,21,12,"code"],[19,14,21,16],[19,17,21,19,"value"],[19,22,21,24],[19,23,21,25,"charCodeAt"],[19,33,21,35],[19,34,21,36,"i"],[19,35,21,37],[19,36,21,38],[20,6,22,8],[20,10,22,12],[20,11,22,13,"isDigit"],[20,18,22,20],[20,19,22,21,"code"],[20,23,22,25],[20,24,22,26],[20,28,22,30,"code"],[20,32,22,34],[20,37,22,39,"FULLSTOP"],[20,45,22,47],[20,47,22,49],[21,8,23,12],[21,12,23,16],[21,13,23,17,"error"],[21,18,23,22],[21,19,23,23],[21,48,23,52],[21,50,23,54],[21,54,23,58],[21,55,23,59,"scanner"],[21,62,23,66],[21,63,23,67,"tokenStart"],[21,73,23,77],[21,76,23,80,"value"],[21,81,23,85],[21,82,23,86,"length"],[21,88,23,92],[21,91,23,95,"i"],[21,92,23,96],[21,93,23,97],[22,6,24,8],[23,4,25,4],[24,4,27,4],[24,8,27,8,"Number"],[24,14,27,14],[24,15,27,15,"value"],[24,20,27,20],[24,21,27,21],[24,26,27,26],[24,27,27,27],[24,29,27,29],[25,6,28,8],[25,10,28,12],[25,11,28,13,"error"],[25,16,28,18],[25,17,28,19],[25,45,28,47],[25,47,28,49],[25,51,28,53],[25,52,28,54,"scanner"],[25,59,28,61],[25,60,28,62,"tokenStart"],[25,70,28,72],[25,73,28,75,"value"],[25,78,28,80],[25,79,28,81,"length"],[25,85,28,87],[25,86,28,88],[26,4,29,4],[27,4,31,4],[27,11,31,11,"value"],[27,16,31,16],[28,2,32,0],[30,2,34,0],[31,2,35,0,"module"],[31,8,35,6],[31,9,35,7,"exports"],[31,16,35,14],[31,19,35,17],[32,4,36,4,"name"],[32,8,36,8],[32,10,36,10],[32,17,36,17],[33,4,37,4,"structure"],[33,13,37,13],[33,15,37,15],[34,6,38,8,"left"],[34,10,38,12],[34,12,38,14,"String"],[34,18,38,20],[35,6,39,8,"right"],[35,11,39,13],[35,13,39,15,"String"],[36,4,40,4],[36,5,40,5],[37,4,41,4,"parse"],[37,9,41,9],[37,11,41,11],[37,20,41,11,"parse"],[37,21,41,11],[37,23,41,22],[38,6,42,8],[38,10,42,12,"start"],[38,15,42,17],[38,18,42,20],[38,22,42,24],[38,23,42,25,"scanner"],[38,30,42,32],[38,31,42,33,"tokenStart"],[38,41,42,43],[39,6,43,8],[39,10,43,12,"left"],[39,14,43,16],[39,17,43,19,"consumeNumber"],[39,30,43,32],[39,31,43,33,"call"],[39,35,43,37],[39,36,43,38],[39,40,43,42],[39,41,43,43],[40,6,44,8],[40,10,44,12,"right"],[40,15,44,17],[41,6,46,8],[41,10,46,12],[41,11,46,13,"scanner"],[41,18,46,20],[41,19,46,21,"skipWS"],[41,25,46,27],[41,26,46,28],[41,27,46,29],[42,6,48,8],[42,10,48,12],[42,11,48,13],[42,15,48,17],[42,16,48,18,"scanner"],[42,23,48,25],[42,24,48,26,"isDelim"],[42,31,48,33],[42,32,48,34,"SOLIDUS"],[42,39,48,41],[42,40,48,42],[42,42,48,44],[43,8,49,12],[43,12,49,16],[43,13,49,17,"error"],[43,18,49,22],[43,19,49,23],[43,40,49,44],[43,41,49,45],[44,6,50,8],[45,6,51,8],[45,10,51,12],[45,11,51,13,"eat"],[45,14,51,16],[45,15,51,17,"DELIM"],[45,20,51,22],[45,21,51,23],[46,6,52,8,"right"],[46,11,52,13],[46,14,52,16,"consumeNumber"],[46,27,52,29],[46,28,52,30,"call"],[46,32,52,34],[46,33,52,35],[46,37,52,39],[46,38,52,40],[47,6,54,8],[47,13,54,15],[48,8,55,12,"type"],[48,12,55,16],[48,14,55,18],[48,21,55,25],[49,8,56,12,"loc"],[49,11,56,15],[49,13,56,17],[49,17,56,21],[49,18,56,22,"getLocation"],[49,29,56,33],[49,30,56,34,"start"],[49,35,56,39],[49,37,56,41],[49,41,56,45],[49,42,56,46,"scanner"],[49,49,56,53],[49,50,56,54,"tokenStart"],[49,60,56,64],[49,61,56,65],[50,8,57,12,"left"],[50,12,57,16],[50,14,57,18,"left"],[50,18,57,22],[51,8,58,12,"right"],[51,13,58,17],[51,15,58,19,"right"],[52,6,59,8],[52,7,59,9],[53,4,60,4],[53,5,60,5],[54,4,61,4,"generate"],[54,12,61,12],[54,14,61,14],[54,23,61,14,"generate"],[54,24,61,23,"node"],[54,28,61,27],[54,30,61,29],[55,6,62,8],[55,10,62,12],[55,11,62,13,"chunk"],[55,16,62,18],[55,17,62,19,"node"],[55,21,62,23],[55,22,62,24,"left"],[55,26,62,28],[55,27,62,29],[56,6,63,8],[56,10,63,12],[56,11,63,13,"chunk"],[56,16,63,18],[56,17,63,19],[56,20,63,22],[56,21,63,23],[57,6,64,8],[57,10,64,12],[57,11,64,13,"chunk"],[57,16,64,18],[57,17,64,19,"node"],[57,21,64,23],[57,22,64,24,"right"],[57,27,64,29],[57,28,64,30],[58,4,65,4],[59,2,66,0],[59,3,66,1],[60,0,66,2],[60,3]],"functionMap":{"names":["<global>","consumeNumber","module.exports.parse","module.exports.generate"],"mappings":"AAA;ACc;CDiB;WES;KFmB;cGC;KHI"},"hasCjsExports":true},"type":"js/module"}]}