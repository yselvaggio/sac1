{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":26,"index":186}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.AuthProvider=function(e){var v=e.children,y=(0,u.useState)(null),h=(0,n.default)(y,2),p=h[0],w=h[1],k=(0,u.useState)(null),I=(0,n.default)(k,2),_=I[0],E=I[1],S=(0,u.useState)(!0),$=(0,n.default)(S,2),A=$[0],O=$[1];(0,u.useEffect)(function(){P()},[]);var P=(function(){var e=(0,t.default)(function*(){try{var e=yield o.default.getItem('token');if(e){var t=yield l.default.get(`${f}/api/auth/verify?token=${e}`);w(t.data),E(e)}}catch(e){yield o.default.removeItem('token'),yield o.default.removeItem('user')}finally{O(!1)}});return function(){return e.apply(this,arguments)}})(),b=(function(){var e=(0,t.default)(function*(e,t){try{var n=(yield l.default.post(`${f}/api/auth/login`,{email:e,password:t})).data,u=n.access_token,s=n.user;E(u),w(s),yield o.default.setItem('token',u),yield o.default.setItem('user',JSON.stringify(s))}catch(e){var c,v=(null==(c=e.response)||null==(c=c.data)?void 0:c.detail)||'Errore durante il login';throw new Error(v)}});return function(t,n){return e.apply(this,arguments)}})(),x=(function(){var e=(0,t.default)(function*(e,t,n){try{var u=(yield l.default.post(`${f}/api/auth/register`,{email:e,password:t,nome:n})).data,s=u.access_token,c=u.user;E(s),w(c),yield o.default.setItem('token',s),yield o.default.setItem('user',JSON.stringify(c))}catch(e){var v,y=(null==(v=e.response)||null==(v=v.data)?void 0:v.detail)||'Errore durante la registrazione';throw new Error(y)}});return function(t,n,u){return e.apply(this,arguments)}})(),J=(function(){var e=(0,t.default)(function*(e,t,n,u){try{var s=(yield l.default.post(`${f}/api/auth/google`,{email:e,nome:t,google_id:n,foto_url:u})).data,c=s.access_token,v=s.user;E(c),w(v),yield o.default.setItem('token',c),yield o.default.setItem('user',JSON.stringify(v))}catch(e){var y,h=(null==(y=e.response)||null==(y=y.data)?void 0:y.detail)||'Errore durante il login con Google';throw new Error(h)}});return function(t,n,u,o){return e.apply(this,arguments)}})(),N=(function(){var e=(0,t.default)(function*(){try{yield o.default.removeItem('token'),yield o.default.removeItem('user'),w(null),E(null)}catch(e){console.error('Error logging out:',e)}});return function(){return e.apply(this,arguments)}})();return(0,s.jsx)(c.Provider,{value:{user:p,token:_,isLoading:A,login:b,register:x,loginWithGoogle:J,logout:N},children:v})},_e.useAuth=function(){var e=(0,u.useContext)(c);if(void 0===e)throw new Error('useAuth must be used within an AuthProvider');return e};var t=e(r(d[0])),n=e(r(d[1])),u=r(d[2]),o=e(r(d[3])),l=e(r(d[4])),s=r(d[5]),f=\"https://club-connect-21.preview.emergentagent.com\",c=(0,u.createContext)(void 0)});","lineCount":1,"map":[[1,143,28,0,"_e"],[1,146,28,0,"AuthProvider"],[1,159,28,7],[1,168,28,28,"_ref"],[1,171,28,68],[1,175,28,31,"children"],[1,177,28,39,"_ref"],[1,179,28,31,"children"],[1,188,29,2,"_useState"],[1,191,29,26],[1,193,29,26,"useState"],[1,195,29,34,"useState"],[1,205,29,48],[1,211,29,53,"_useState2"],[1,214,29,53],[1,216,29,53,"_slicedToArray"],[1,218,29,53,"default"],[1,227,29,53,"_useState"],[1,229,29,53],[1,232,29,9,"user"],[1,234,29,13,"_useState2"],[1,236,29,13],[1,239,29,15,"setUser"],[1,241,29,22,"_useState2"],[1,243,29,22],[1,246,30,2,"_useState3"],[1,249,30,28],[1,251,30,28,"useState"],[1,253,30,36,"useState"],[1,263,30,52],[1,269,30,57,"_useState4"],[1,272,30,57],[1,274,30,57,"_slicedToArray"],[1,276,30,57,"default"],[1,285,30,57,"_useState3"],[1,287,30,57],[1,290,30,9,"token"],[1,292,30,14,"_useState4"],[1,294,30,14],[1,297,30,16,"setToken"],[1,299,30,24,"_useState4"],[1,301,30,24],[1,304,31,2,"_useState5"],[1,307,31,36],[1,309,31,36,"useState"],[1,311,31,44,"useState"],[1,322,31,45],[1,325,31,50,"_useState6"],[1,328,31,50],[1,330,31,50,"_slicedToArray"],[1,332,31,50,"default"],[1,341,31,50,"_useState5"],[1,343,31,50],[1,346,31,9,"isLoading"],[1,348,31,18,"_useState6"],[1,350,31,18],[1,353,31,20,"setIsLoading"],[1,355,31,32,"_useState6"],[1,357,31,32],[1,361,33,2],[1,363,33,2,"useEffect"],[1,365,33,11,"useEffect"],[1,376,33,12],[1,387,34,4,"loadStoredAuth"],[1,390,35,2],[1,392,35,5],[1,396,37,2],[1,400,37,8,"loadStoredAuth"],[1,403,37,22],[1,418,37,22,"_ref2"],[1,421,37,22],[1,423,37,22,"_asyncToGenerator"],[1,425,37,22,"default"],[1,434,37,25],[1,446,38,4],[1,450,39,6],[1,454,39,12,"storedToken"],[1,462,39,32,"AsyncStorage"],[1,464,39,44,"default"],[1,472,39,45,"getItem"],[1,480,39,53],[1,489,40,6],[1,492,40,10,"storedToken"],[1,494,40,23],[1,495,41,8],[1,499,41,14,"response"],[1,507,41,31,"axios"],[1,509,41,36,"default"],[1,517,41,37,"get"],[1,521,41,41],[1,524,41,44,"BACKEND_URL"],[1,551,41,81,"storedToken"],[1,556,42,8,"setUser"],[1,558,42,16,"response"],[1,560,42,25,"data"],[1,566,43,8,"setToken"],[1,568,43,17,"storedToken"],[1,570,44,6],[1,571,45,4],[1,572,45,6],[1,578,45,13,"error"],[1,587,46,12,"AsyncStorage"],[1,589,46,24,"default"],[1,597,46,25,"removeItem"],[1,608,46,36],[1,623,47,12,"AsyncStorage"],[1,625,47,24,"default"],[1,633,47,25,"removeItem"],[1,644,47,36],[1,651,48,4],[1,652,48,5],[1,660,49,6,"setIsLoading"],[1,663,49,19],[1,665,50,4],[1,666,51,2],[1,669,51,3],[1,687,37,22],[1,694,37,22,"_ref2"],[1,696,37,22,"apply"],[1,702,37,22,"this"],[1,707,37,22,"arguments"],[1,717,37,22],[1,723,53,8,"login"],[1,726,53,13],[1,741,53,13,"_ref3"],[1,744,53,13],[1,746,53,13,"_asyncToGenerator"],[1,748,53,13,"default"],[1,757,53,16],[1,767,53,23,"email"],[1,769,53,38,"password"],[1,772,54,4],[1,776,55,6],[1,780,60,6,"_response$data"],[1,789,55,29,"axios"],[1,791,55,34,"default"],[1,799,55,35,"post"],[1,804,55,40],[1,807,55,43,"BACKEND_URL"],[1,826,55,73],[1,827,56,8,"email"],[1,835,57,8,"password"],[1,849,60,56,"data"],[1,854,60,14,"access_token"],[1,856,60,26,"_response$data"],[1,858,60,14,"access_token"],[1,871,60,34,"userData"],[1,873,60,42,"_response$data"],[1,875,60,28,"user"],[1,880,62,6,"setToken"],[1,882,62,15,"access_token"],[1,885,63,6,"setUser"],[1,887,63,14,"userData"],[1,896,65,12,"AsyncStorage"],[1,898,65,24,"default"],[1,906,65,25,"setItem"],[1,914,65,33],[1,922,65,42,"access_token"],[1,931,66,12,"AsyncStorage"],[1,933,66,24,"default"],[1,941,66,25,"setItem"],[1,949,66,33],[1,956,66,41,"JSON"],[1,961,66,46,"stringify"],[1,971,66,56,"userData"],[1,974,67,4],[1,975,67,6],[1,981,67,13,"error"],[1,984,67,25],[1,988,67,25,"_error$response"],[1,990,68,12,"message"],[1,993,68,36],[1,1000,68,22,"_error$response"],[1,1002,68,22,"error"],[1,1004,68,28,"response"],[1,1015,68,42],[1,1022,68,36,"_error$response"],[1,1024,68,22,"_error$response"],[1,1026,68,38,"data"],[1,1037,68,42,"undefined"],[1,1039,68,22,"_error$response"],[1,1041,68,44,"detail"],[1,1050,68,54],[1,1076,69,6],[1,1082,69,12],[1,1086,69,16,"Error"],[1,1092,69,22,"message"],[1,1094,70,4],[1,1095,71,2],[1,1098,71,3],[1,1114,53,13,"_x"],[1,1116,53,13,"_x2"],[1,1119,53,13],[1,1126,53,13,"_ref3"],[1,1128,53,13,"apply"],[1,1134,53,13,"this"],[1,1139,53,13,"arguments"],[1,1149,53,13],[1,1155,73,8,"register"],[1,1158,73,16],[1,1173,73,16,"_ref4"],[1,1176,73,16],[1,1178,73,16,"_asyncToGenerator"],[1,1180,73,16,"default"],[1,1189,73,19],[1,1199,73,26,"email"],[1,1201,73,41,"password"],[1,1203,73,59,"nome"],[1,1206,74,4],[1,1210,75,6],[1,1214,81,6,"_response$data2"],[1,1223,75,29,"axios"],[1,1225,75,34,"default"],[1,1233,75,35,"post"],[1,1238,75,40],[1,1241,75,43,"BACKEND_URL"],[1,1263,75,76],[1,1264,76,8,"email"],[1,1272,77,8,"password"],[1,1283,78,8,"nome"],[1,1293,81,56,"data"],[1,1298,81,14,"access_token"],[1,1300,81,26,"_response$data2"],[1,1302,81,14,"access_token"],[1,1315,81,34,"userData"],[1,1317,81,42,"_response$data2"],[1,1319,81,28,"user"],[1,1324,83,6,"setToken"],[1,1326,83,15,"access_token"],[1,1329,84,6,"setUser"],[1,1331,84,14,"userData"],[1,1340,86,12,"AsyncStorage"],[1,1342,86,24,"default"],[1,1350,86,25,"setItem"],[1,1358,86,33],[1,1366,86,42,"access_token"],[1,1375,87,12,"AsyncStorage"],[1,1377,87,24,"default"],[1,1385,87,25,"setItem"],[1,1393,87,33],[1,1400,87,41,"JSON"],[1,1405,87,46,"stringify"],[1,1415,87,56,"userData"],[1,1418,88,4],[1,1419,88,6],[1,1425,88,13,"error"],[1,1428,88,25],[1,1432,88,25,"_error$response2"],[1,1434,89,12,"message"],[1,1437,89,36],[1,1444,89,22,"_error$response2"],[1,1446,89,22,"error"],[1,1448,89,28,"response"],[1,1459,89,42],[1,1466,89,36,"_error$response2"],[1,1468,89,22,"_error$response2"],[1,1470,89,38,"data"],[1,1481,89,42,"undefined"],[1,1483,89,22,"_error$response2"],[1,1485,89,44,"detail"],[1,1494,89,54],[1,1528,90,6],[1,1534,90,12],[1,1538,90,16,"Error"],[1,1544,90,22,"message"],[1,1546,91,4],[1,1547,92,2],[1,1550,92,3],[1,1566,73,16,"_x3"],[1,1568,73,16,"_x4"],[1,1570,73,16,"_x5"],[1,1573,73,16],[1,1580,73,16,"_ref4"],[1,1582,73,16,"apply"],[1,1588,73,16,"this"],[1,1593,73,16,"arguments"],[1,1603,73,16],[1,1609,94,8,"loginWithGoogle"],[1,1612,94,23],[1,1627,94,23,"_ref5"],[1,1630,94,23],[1,1632,94,23,"_asyncToGenerator"],[1,1634,94,23,"default"],[1,1643,94,26],[1,1653,94,33,"email"],[1,1655,94,48,"nome"],[1,1657,94,62,"googleId"],[1,1659,94,80,"photoUrl"],[1,1662,95,4],[1,1666,96,6],[1,1670,103,6,"_response$data3"],[1,1679,96,29,"axios"],[1,1681,96,34,"default"],[1,1689,96,35,"post"],[1,1694,96,40],[1,1697,96,43,"BACKEND_URL"],[1,1717,96,74],[1,1718,97,8,"email"],[1,1726,98,8,"nome"],[1,1733,99,8,"google_id"],[1,1743,99,19,"googleId"],[1,1745,100,8,"foto_url"],[1,1754,100,18,"photoUrl"],[1,1759,103,56,"data"],[1,1764,103,14,"access_token"],[1,1766,103,26,"_response$data3"],[1,1768,103,14,"access_token"],[1,1781,103,34,"userData"],[1,1783,103,42,"_response$data3"],[1,1785,103,28,"user"],[1,1790,105,6,"setToken"],[1,1792,105,15,"access_token"],[1,1795,106,6,"setUser"],[1,1797,106,14,"userData"],[1,1806,108,12,"AsyncStorage"],[1,1808,108,24,"default"],[1,1816,108,25,"setItem"],[1,1824,108,33],[1,1832,108,42,"access_token"],[1,1841,109,12,"AsyncStorage"],[1,1843,109,24,"default"],[1,1851,109,25,"setItem"],[1,1859,109,33],[1,1866,109,41,"JSON"],[1,1871,109,46,"stringify"],[1,1881,109,56,"userData"],[1,1884,110,4],[1,1885,110,6],[1,1891,110,13,"error"],[1,1894,110,25],[1,1898,110,25,"_error$response3"],[1,1900,111,12,"message"],[1,1903,111,36],[1,1910,111,22,"_error$response3"],[1,1912,111,22,"error"],[1,1914,111,28,"response"],[1,1925,111,42],[1,1932,111,36,"_error$response3"],[1,1934,111,22,"_error$response3"],[1,1936,111,38,"data"],[1,1947,111,42,"undefined"],[1,1949,111,22,"_error$response3"],[1,1951,111,44,"detail"],[1,1960,111,54],[1,1997,112,6],[1,2003,112,12],[1,2007,112,16,"Error"],[1,2013,112,22,"message"],[1,2015,113,4],[1,2016,114,2],[1,2019,114,3],[1,2035,94,23,"_x6"],[1,2037,94,23,"_x7"],[1,2039,94,23,"_x8"],[1,2041,94,23,"_x9"],[1,2044,94,23],[1,2051,94,23,"_ref5"],[1,2053,94,23,"apply"],[1,2059,94,23,"this"],[1,2064,94,23,"arguments"],[1,2074,94,23],[1,2080,116,8,"logout"],[1,2083,116,14],[1,2098,116,14,"_ref6"],[1,2101,116,14],[1,2103,116,14,"_asyncToGenerator"],[1,2105,116,14,"default"],[1,2114,116,17],[1,2126,117,4],[1,2136,118,12,"AsyncStorage"],[1,2138,118,24,"default"],[1,2146,118,25,"removeItem"],[1,2157,118,36],[1,2172,119,12,"AsyncStorage"],[1,2174,119,24,"default"],[1,2182,119,25,"removeItem"],[1,2193,119,36],[1,2201,120,6,"setUser"],[1,2203,120,14],[1,2209,121,6,"setToken"],[1,2211,121,15],[1,2216,122,4],[1,2217,122,6],[1,2223,122,13,"error"],[1,2226,123,6,"console"],[1,2234,123,14,"error"],[1,2240,123,20],[1,2261,123,42,"error"],[1,2263,124,4],[1,2264,125,2],[1,2267,125,3],[1,2285,116,14],[1,2292,116,14,"_ref6"],[1,2294,116,14,"apply"],[1,2300,116,14,"this"],[1,2305,116,14,"arguments"],[1,2315,116,14],[1,2321,127,2],[1,2328,128,4],[1,2330,128,4,"_reactJsxRuntime"],[1,2332,128,4,"jsx"],[1,2337,128,5,"AuthContext"],[1,2339,128,17,"Provider"],[1,2348,128,25],[1,2349,128,26,"value"],[1,2355,128,33],[1,2356,128,35,"user"],[1,2363,128,41,"token"],[1,2371,128,48,"isLoading"],[1,2383,128,59,"login"],[1,2391,128,66,"register"],[1,2402,128,76,"loginWithGoogle"],[1,2420,128,93,"logout"],[1,2430,128,102,"children"],[1,2439,129,7,"children"],[1,2442,132,0],[1,2444,134,0,"_e"],[1,2447,134,0,"useAuth"],[1,2455,134,7],[1,2466,135,2],[1,2470,135,8,"context"],[1,2473,135,18],[1,2475,135,18,"useContext"],[1,2477,135,28,"useContext"],[1,2489,135,29,"AuthContext"],[1,2492,136,2],[1,2500,136,18,"undefined"],[1,2504,136,6,"context"],[1,2506,137,4],[1,2512,137,10],[1,2516,137,14,"Error"],[1,2522,137,20],[1,2569,139,2],[1,2576,139,9,"context"],[1,2577,140,0],[1,2579,140,1],[1,2583,140,1,"_asyncToGenerator"],[1,2585,140,1,"_interopDefault"],[1,2587,140,1,"r"],[1,2589,140,1,"d"],[1,2591,140,1],[1,2596,140,1,"_slicedToArray"],[1,2598,140,1,"_interopDefault"],[1,2600,140,1,"r"],[1,2602,140,1,"d"],[1,2604,140,1],[1,2609,1,0,"_react"],[1,2611,1,0,"r"],[1,2613,1,0,"d"],[1,2615,1,0],[1,2619,2,0,"AsyncStorage"],[1,2621,2,0,"_interopDefault"],[1,2623,2,0,"r"],[1,2625,2,0,"d"],[1,2627,2,0],[1,2632,3,0,"axios"],[1,2634,3,0,"_interopDefault"],[1,2636,3,0,"r"],[1,2638,3,0,"d"],[1,2640,3,0],[1,2645,3,26,"_reactJsxRuntime"],[1,2647,3,26,"r"],[1,2649,3,26,"d"],[1,2651,3,26],[1,2655,5,6,"BACKEND_URL"],[1,2657,5,17],[1,2709,26,6,"AuthContext"],[1,2712,26,20],[1,2714,26,20,"createContext"],[1,2716,26,33,"createContext"],[1,2736,26,63,"undefined"],[1,2738,140,1],[1,2741]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","loginWithGoogle","logout","useAuth"],"mappings":"AAA;OC2B;YCK;GDE;yBEE;GFc;gBGE;GHkB;mBIE;GJmB;0BKE;GLoB;iBME;GNS;CDO;OQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}